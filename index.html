<!DOCTYPE html>
<html>
  <head>
    <link rel='stylesheet' href='stylesheet.css'>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body>
    <script>

      $(document).ready(function(){
        $('body').html('');

        window.tweetIndex = 0;
        window.tweets = streams.home;

        displayTweets();
      });
      var displayTweets = function() {
        while(tweetIndex < tweets.length){
          var tweet = tweets[tweetIndex];
          var $tweet = $(`<div onClick=displayUserTweet('${tweet.user}')></div>`);
          $tweet.text('@' + tweet.user + ': ' + tweet.message + ': ' + tweet.created_at);
          $tweet.appendTo($('body'));
          tweetIndex += 1;
        }
      }
      var displayUserTweet = function (username) {
            $('body').html('');
            window.tweets = streams.users[username];
            window.tweetIndex = 0;
            displayTweets();
          }
      setInterval(displayTweets, 1500);
    </script>
  </body>
</html>


